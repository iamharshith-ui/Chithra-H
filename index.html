<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Valentine Letter</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            background: #fce4ec;
            font-family: 'Arial', sans-serif;
            text-align: center;
            overflow: hidden;
        }
        .container {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .cover, .letter {
            background: white;
            width: 90%;
            max-width: 450px;
            height: 85vh;
            max-height: 550px;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: absolute;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
            overflow: hidden;
        }
        .cover {
            cursor: pointer;
            z-index: 2;
            position: relative;
        }
        .floating-container, .floating-container-inside {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        .heart {
            position: absolute;
            font-size: 24px;
            opacity: 0.8;
            color: red;
            will-change: transform;
        }
        .floating-boo {
            position: absolute;
            font-size: 80px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: floatBoo 3s infinite ease-in-out alternate;
        }
        @keyframes floatBoo {
            0% { transform: translate(-50%, -50%) translateY(0); }
            100% { transform: translate(-50%, -50%) translateY(-10px); }
        }
        .valentine-text {
            font-size: 28px;
            color: #b71c1c;
            font-family: 'Great Vibes', cursive;
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
        }
        .letter {
            opacity: 0;
            visibility: hidden;
            z-index: 1;
            transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
            transform: translateY(20px);
            font-family: 'Arial', sans-serif;
            text-align: center;
        }
        .open .cover {
            opacity: 0;
            visibility: hidden;
        }
        .open .letter {
            opacity: 1;
            visibility: visible;
            z-index: 2;
            transform: translateY(0);
        }
        .letter p {
            font-size: 20px;
            color: black;
            text-align: center;
            line-height: 1.8;
            margin: 10px 0;
        }
        .letter h1 {
            font-size: 24px;
            color: black;
            margin-bottom: 20px;
        }
        .music-button {
            background: #b71c1c;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
            transition: background 0.3s ease;
        }
        .music-button:hover {
            background: #880e4f;
        }
    </style>
</head>
<body>

    <div class="container" id="card">
        <div class="floating-container" id="floating-elements"></div>

        <div class="cover" onclick="openLetter()">
            <div class="floating-container-inside" id="floating-inside"></div>
            
            <div class="floating-boo">üëª</div>

            <div class="valentine-text">Happy Valentine‚Äôs Day</div>
        </div>

        <div class="letter" onclick="closeLetter()">
            <div class="floating-container-inside" id="floating-inside-letter"></div>
            
            <h1>My Dearest Love,</h1>
            
            <p>
                ‡≤á‡≤¶‡≥Ü‡≤Ø‡≥Ü ‡≤®‡≤ø‡≤®‡≤ó‡≥Ü ‡≤∏‡≤Æ‡≤Ø‚Äå <br>
                ‡≤á‡≤¶‡≥Ü‡≤Ø‡≥Ü ‡≤®‡≤ø‡≤®‡≤ó‡≥Ü ‡≤∏‡≤Æ‡≤Ø‚Äå <br>
                ‡≤Ö‡≤≤‡≥Ü‡≤¶‡≤æ‡≤°‡≤≤‡≤ø‡≤ï‡≥Ü... ‡≤ú‡≥ä‡≤§‡≥Ü ‡≤π‡≤æ‡≤°‡≤≤‡≤ø‡≤ï‡≥Ü.. <br>
                ‡≤ö‡≤Ç‡≤¶‡≥ç‡≤∞‡≤® ‡≤®‡≥ã‡≤°‡≤≤‡≤ø‡≤ï‡≥Ü.. ‡≤®‡≤ø‡≤®‡≤ó‡≥Ü ‡≤∏‡≤Æ‡≤Ø.. <br>
                ‡≤®‡≥Ü‡≤®‡≥Ü‡≤¶‡≤æ‡≤ï‡≥ç‡≤∑‡≤£‡≤µ‡≥Ü ‡≤ï‡≤∞‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≤ø‡≤ï‡≥Ü <br>
                ‡≤ï‡≤æ‡≤ó‡≤¶ ‡≤ì‡≤¶‡≤≤‡≤ø‡≤ï‡≥Ü <br>
                ‡≤®‡≤ø‡≤®‡≤ó‡≥Ü ‡≤∏‡≤Æ‡≤Ø <br>
                ‡≤§‡≤°‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶‡≤∞‡≥Ü ‡≤ú‡≤ó‡≤≥‡≤æ‡≤°‡≤≤‡≤ø‡≤ï‡≥Ü <br>
                ‡≤∞‡≤æ‡≤ú‡≤ø‡≤Ø ‡≤Æ‡≤æ‡≤°‡≤≤‡≤ø‡≤ï‡≥Ü <br>
                ‡≤®‡≤ø‡≤®‡≤ó‡≥Ü ‡≤∏‡≤Æ‡≤Ø  
            </p>

            <!-- Play Music Button -->
            <button class="music-button" onclick="toggleMusic(event)">Play Music</button>
        </div>
    </div>

    <audio id="background-music" loop>
        <source src="https://www.dropbox.com/scl/fi/k58vi0rfdzig28t8g9isr/Ideye-Ninage-Samaya.m4a?rlkey=bdtv6bqa1qqbali87oojtpc0p&st=s3xpsuel&raw=1" type="audio/mp4">
        Your browser does not support the audio element.
    </audio>

    <script>
        function openLetter() {
            document.getElementById('card').classList.add('open');
        }

        function closeLetter() {
            document.getElementById('card').classList.remove('open');
        }

        function toggleMusic(event) {
            event.stopPropagation(); // Prevents closing the letter when clicking the button
            let music = document.getElementById('background-music');
            let button = event.target;
            
            if (music.paused) {
                music.play().catch(error => console.error("Playback error:", error));
                button.textContent = "Pause Music";
            } else {
                music.pause();
                button.textContent = "Play Music";
            }
        }

        function createFloatingElements(containerId, emoji, count, size) {
            const container = document.getElementById(containerId);
            for (let i = 0; i < count; i++) {
                let element = document.createElement('div');
                element.classList.add('heart');
                element.innerHTML = emoji;
                element.style.fontSize = `${size}px`;
                container.appendChild(element);

                let x = Math.random() * (container.clientWidth - size * 2);
                let y = Math.random() * (container.clientHeight - size * 2); 
                let speed = 0.5 + Math.random() * 1.5;
                let angle = Math.random() * Math.PI * 2;
                let deltaX = Math.cos(angle) * speed;
                let deltaY = Math.sin(angle) * speed;

                function animate() {
                    x += deltaX;
                    y -= deltaY;

                    if (y < -50) {
                        y = container.clientHeight + 50;
                        x = Math.random() * (container.clientWidth - size * 2);
                    }

                    element.style.transform = `translate(${x}px, ${y}px)`;
                    requestAnimationFrame(animate);
                }
                animate();
            }
        }

        createFloatingElements("floating-elements", "‚ù§Ô∏è", 40, 24);
        createFloatingElements("floating-inside", "‚ù§Ô∏è", 25, 20);
        createFloatingElements("floating-inside-letter", "‚ù§Ô∏è", 25, 20);
    </script>

</body>
</html>
